<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <title>Teachable Machine Pose Model</title>
  <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
  <div class="container">
    <div class="title-area">
      <h1>Fruit Catcher 🍎</h1>
      <p>몸을 움직여 과일을 받아내세요! (왼쪽 / 정면 / 오른쪽)</p>
    </div>

    <div class="contents-wrapper">
      <!-- Webcam Section -->
      <div class="section video-section">
        <div class="section-title">내 모습 (Webcam)</div>
        <div class="webcam-container">
          <div id="webcam-wrapper"></div>
          <canvas id="webcam-canvas" style="display: none;"></canvas>
          <!-- Hidden canvas if needed by PoseEngine internal -->
        </div>
        <div class="pose-status">
          현재 인식: <span id="current-pose_display">대기중</span>
        </div>
        <div id="label-container"></div>
      </div>

      <!-- Game Section -->
      <div class="section game-section">
        <div class="game-header">
          <div class="score-box">점수 <span id="score">0</span></div>
          <div class="level-box">Lv. <span id="level">1</span></div>
          <div class="time-box">남은 시간 <span id="time">60</span></div>
        </div>

        <div class="canvas-container">
          <canvas id="game-canvas"></canvas>
          <div id="game-message" class="hidden"></div>
          <div id="countdown" class="hidden">3</div>
        </div>
      </div>
    </div>

    <div class="controls">
      <button type="button" id="startBtn" class="btn primary" onclick="init()">게임 시작 (Start)</button>
      <button type="button" id="stopBtn" class="btn secondary" onclick="stop()" disabled>종료 (Stop)</button>
    </div>
  </div>

  <!-- Teachable Machine 라이브러리 -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>

  <!-- 애플리케이션 모듈 -->
  <script src="./js/stabilizer.js"></script>
  <script src="./js/poseEngine.js"></script>
  <script src="./js/soundManager.js"></script>
  <script src="./js/gameEngine.js"></script>
  <script src="./js/main.js"></script>
</body>

</html>